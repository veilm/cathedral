<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>crystalline-vespers</title>
<style>
:root{
  --bg:#0f1114;
  --ink:#c8d1db;
  --user:#8b9db0;
  --rule:#1f2530;
  --accent:#5a6677;
  --silver:#9facbd;
  --glow:#2a3544;
  --beam:linear-gradient(180deg, transparent, #ffffff03 40%, transparent);
  font-size:17px;
  line-height:1.75;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
  background:var(--bg);
  background-image:
    radial-gradient(ellipse at top, #131620 0%, transparent 50%),
    var(--beam);
  color:var(--ink);
  font-family:"EB Garamond","Garamond",serif;
  display:flex;
  flex-direction:column;
  height:100vh;
  padding:0 clamp(1rem, 4vw, 4rem);
}
body::before{
  content:"";
  position:fixed;
  top:0;
  left:20%;
  width:2px;
  height:40%;
  background:linear-gradient(180deg, #ffffff08, transparent);
  pointer-events:none;
}
body::after{
  content:"";
  position:fixed;
  top:0;
  right:25%;
  width:1px;
  height:35%;
  background:linear-gradient(180deg, #ffffff05, transparent);
  pointer-events:none;
}
header{
  flex-shrink:0;
  padding:2rem 0 1.4rem;
  border-bottom:1px solid var(--rule);
  font-size:.82rem;
  color:var(--accent);
  letter-spacing:0.25em;
  text-transform:uppercase;
  text-align:center;
}
main{
  flex:1 1 auto;
  overflow:auto;
  padding:2.8rem 0;
}
.message{
  max-width:40rem;
  margin:0 auto 2rem;
  position:relative;
}
.message .text{
  text-shadow:0 0 20px #00000060;
}
.user .text{
  font-weight:350;
  font-size:0.94em;
  margin-left:1.4rem;
  text-indent:-0.5rem;
  color:var(--user);
  font-style:italic;
}
.collapsed{
  max-height:4.2em;
  overflow:hidden;
  position:relative;
}
.collapsed::after{
  content:"";
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:1.5em;
  background:linear-gradient(transparent, var(--bg));
}
.expand{
  position:absolute;
  bottom:.2rem;
  right:0;
  background:var(--glow);
  border:1px solid var(--rule);
  color:var(--silver);
  font-size:.7rem;
  cursor:pointer;
  padding:.15rem .5rem;
  border-radius:2px;
  letter-spacing:0.2em;
  opacity:0.8;
  z-index:1;
}
.expand:hover{
  background:#ffffff08;
  opacity:1;
  border-color:var(--accent);
}
hr{
  border:0;
  height:1px;
  background:linear-gradient(90deg, transparent, var(--rule) 20%, var(--rule) 80%, transparent);
  margin:2.5rem auto;
  max-width:40rem;
  position:relative;
}
hr::before,
hr::after{
  content:"";
  position:absolute;
  top:-3px;
  width:6px;
  height:6px;
  background:var(--bg);
  border:1px solid var(--accent);
  transform:rotate(45deg);
}
hr::before{left:48%;}
hr::after{right:48%;}
footer{
  flex-shrink:0;
  padding:1.6rem 0 2.4rem;
  display:flex;
  gap:1rem;
  align-items:center;
  justify-content:center;
}
textarea{
  flex:1;
  max-width:40rem;
  border:1px solid var(--rule);
  background:linear-gradient(135deg, #ffffff02, transparent);
  color:var(--ink);
  font:inherit;
  resize:none;
  outline:none;
  min-height:3rem;
  padding:0.7rem 1rem;
  border-radius:3px;
  backdrop-filter:blur(2px);
}
textarea:focus{
  border-color:var(--accent);
  background:linear-gradient(135deg, #ffffff04, transparent);
}
textarea::placeholder{
  color:var(--accent);
  opacity:0.5;
  font-style:italic;
}
#settings{
  position:fixed;
  bottom:1.6rem;
  right:1.8rem;
  width:20px;
  height:20px;
  cursor:pointer;
  opacity:.25;
  transition:.3s;
}
#settings:hover{
  opacity:.5;
  transform:rotate(90deg);
}

/* crystalline table */
.frost-table{
  margin:2.5rem auto;
  max-width:36rem;
  border-collapse:separate;
  border-spacing:0;
  font-size:0.88em;
  background:linear-gradient(135deg, #ffffff02, transparent);
  border:1px solid var(--rule);
  border-radius:3px;
  overflow:hidden;
}
.frost-table th,
.frost-table td{
  padding:0.9rem 1.1rem;
  text-align:left;
  border-bottom:1px solid #ffffff06;
}
.frost-table th{
  color:var(--silver);
  font-weight:400;
  letter-spacing:0.15em;
  text-transform:uppercase;
  font-size:0.75em;
  background:#ffffff03;
}
.frost-table tr:last-child td{
  border-bottom:none;
}
.frost-table td:first-child{
  color:var(--accent);
  font-weight:300;
}
.frost-table tr:hover td{
  background:#ffffff02;
}

/* light particles */
@keyframes drift{
  0%{transform:translateY(0px) translateX(0px);}
  50%{transform:translateY(-20px) translateX(10px);}
  100%{transform:translateY(0px) translateX(0px);}
}
.particle{
  position:fixed;
  width:1px;
  height:1px;
  background:var(--silver);
  opacity:0.3;
  animation:drift 8s infinite ease-in-out;
  pointer-events:none;
}
</style>
</head>
<body>
<header>stellar quiet</header>

<main id="chat">
  <div class="message">
    <p class="text">
      In this hall of glass and starlight, words crystallize in the cold air.
      Each thought becomes visible, suspended like frost on cathedral windows.
      Speak, and watch your words turn to light.
    </p>
  </div>
  
  <table class="frost-table">
    <thead>
      <tr>
        <th>Bell</th>
        <th>Hour</th>
        <th>Light</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>First</td>
        <td>Before dawn</td>
        <td>Silver thread</td>
      </tr>
      <tr>
        <td>Second</td>
        <td>Morning star</td>
        <td>Blue flame</td>
      </tr>
      <tr>
        <td>Third</td>
        <td>High noon</td>
        <td>White crystal</td>
      </tr>
      <tr>
        <td>Fourth</td>
        <td>Twilight</td>
        <td>Violet glass</td>
      </tr>
      <tr>
        <td>Fifth</td>
        <td>Midnight</td>
        <td>Star frost</td>
      </tr>
    </tbody>
  </table>
</main>

<footer>
  <textarea placeholder="breathe your words into frostâ€¦" rows="1"></textarea>
</footer>

<svg id="settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
  <circle cx="12" cy="12" r="3"/>
  <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m20.4-4.6l-4.2 4.2m-12 12l-4.2 4.2m12-20.8l-4.2 4.2M7.6 7.6L3.4 3.4"/>
</svg>

<script>
/* ---------- light particles ---------- */
for(let i=0;i<5;i++){
  const p=document.createElement('div');
  p.className='particle';
  p.style.left=Math.random()*100+'%';
  p.style.top=Math.random()*60+'%';
  p.style.animationDelay=Math.random()*8+'s';
  p.style.animationDuration=(6+Math.random()*4)+'s';
  document.body.appendChild(p);
}

/* ---------- expand/collapse ---------- */
function maybeCollapse(p){
  if(p.scrollHeight > 4.2 * parseFloat(getComputedStyle(p).fontSize)){
    p.classList.add('collapsed');
    const btn=document.createElement('button');
    btn.className='expand';
    btn.textContent='...';
    btn.onclick=()=>{
      p.classList.toggle('collapsed');
      btn.textContent = p.classList.contains('collapsed') ? '...' : '^';
    };
    p.parentNode.appendChild(btn);
  }
}
document.querySelectorAll('.text').forEach(maybeCollapse);

/* ---------- minimal chat loop ---------- */
const chat=document.getElementById('chat');
const ta=document.querySelector('textarea');
const send=()=>{
  const val=ta.value.trim();
  if(!val)return;
  const div=document.createElement('div');
  div.className='message user';
  div.innerHTML=`<p class="text">${val}</p>`;
  chat.appendChild(div);
  maybeCollapse(div.querySelector('p'));
  
  const hr=document.createElement('hr');
  chat.appendChild(hr);

  setTimeout(()=>{
    const reply=document.createElement('div');
    reply.className='message';
    reply.innerHTML=`<p class="text">
      Your words drift upward like incense smoke, catching light as they rise.
      In this crystalline silence, even whispers become luminous,
      each syllable a small constellation.
    </p>`;
    chat.appendChild(reply);
    maybeCollapse(reply.querySelector('p'));
    hr.scrollIntoView({behavior:'smooth'});
  },1000);
  ta.value='';
};
ta.addEventListener('keydown',e=>{
  if(e.key==='Enter' && !e.shiftKey){e.preventDefault();send();}
});
</script>
</body>
</html>