:root{
  --bg:#1a1816;
  --ink:#d4cfc7;
  --user:#9b8e7f;
  --rule:#3a3530;
  --accent:#6b635a;
  --gold:#8b7355;
  --table-border:#2f2b27;
  font-size:17px;
  line-height:1.7;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
  /* Subtle radial gradient - like candlelight on stone */
  /*
  background:radial-gradient(ellipse at center top, #1f1d1a 0%, var(--bg) 50%);
  */

  /* Alternative gradients - uncomment to try: */

  /* Vespers light - vertical dawn/dusk */
  /* background:linear-gradient(180deg, #1e1c19 0%, var(--bg) 20%, var(--bg) 80%, #16140f 100%); */

  /* Cathedral depth - diagonal with warm undertone */
  /* background:linear-gradient(135deg, #1c1917 0%, var(--bg) 40%, #181513 100%); */

  /* Stone texture - multiple layers for depth */
  /* background:
    radial-gradient(circle at 20% 50%, rgba(139, 115, 85, 0.02) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(107, 99, 90, 0.02) 0%, transparent 50%),
    var(--bg); */

  /* Combined warmth - radial candlelight + diagonal depth */
  background:
    radial-gradient(ellipse at center top, rgba(31, 29, 26, 0.8) 0%, transparent 50%),
    linear-gradient(135deg, #1c1917 0%, var(--bg) 40%, #181513 100%);

  color:var(--ink);
  font-family:"Crimson Text","Garamond",serif;
  display:flex;
  flex-direction:column;
  height:100vh;
  padding:0 clamp(1rem, 4vw, 4rem);
}
header{
  flex-shrink:0;
  padding:1.8rem 0 1.2rem;
  border-bottom:1px solid var(--rule);
  font-size:.85rem;
  color:var(--accent);
  letter-spacing:0.15em;
}
main{
  flex:1 1 auto;
  overflow:auto;
  padding:2.5rem 0;
}
.message{
  max-width:42rem;
  margin:0 auto 1.8rem;
  position:relative;
}
.user .text{
  font-weight:300;
  font-size:0.95em;
  margin-left:1.2rem;
  text-indent:-0.4rem;
  color:var(--user);
}
hr{
  border:0;
  border-top:1px solid var(--rule);
  margin:2rem auto;
  max-width:42rem;
  position:relative;
}
hr::after{
  content:"✦";
  position:absolute;
  top:-0.65em;
  left:50%;
  transform:translateX(-50%);
  background:var(--bg);
  padding:0 0.5em;
  color:var(--gold);
  font-size:0.8em;
}
footer{
  flex-shrink:0;
  padding:1.4rem 0 2.2rem;
  display:flex;
  gap:.8rem;
  align-items:center;
  justify-content:center;
}
textarea{
  flex:1;
  max-width:42rem;
  border:0;
  background:#ffffff04;
  color:var(--ink);
  font:inherit;
  resize:none;
  outline:none;
  min-height:2.8rem;
  padding:0.6rem 0.8rem;
  border-radius:3px;
  overflow-y:auto;
  transition:height 0.1s ease;
}
textarea::placeholder{
  color:var(--accent);
  opacity:0.6;
}
#settings{
  position:fixed;
  bottom:1.4rem;
  right:1.6rem;
  width:48px;
  height:48px;
  cursor:pointer;
  opacity:.4;
  transition:opacity .3s;
  background:transparent;
  border:0;
  padding:0;
}
#settings:hover{opacity:.7;}
#settings:focus{
  outline:1px solid var(--gold);
  outline-offset:2px;
  opacity:.6;
}
#settings svg{
  width:100%;
  height:100%;
}
@keyframes spin-slow{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}
@keyframes spin-fast{
  from{transform:rotate(0deg);}
  to{transform:rotate(-360deg);}
}

/* settings menu */
.settings-menu{
  position:fixed;
  bottom:4.5rem;
  right:1.6rem;
  background:var(--bg);
  border:1px solid var(--rule);
  border-radius:3px;
  padding:0.5rem;
  opacity:0;
  visibility:hidden;
  transition:opacity 0.2s, visibility 0.2s;
}
.settings-menu.open{
  opacity:1;
  visibility:visible;
}
.settings-menu button{
  display:block;
  width:100%;
  padding:0.5rem 0.8rem;
  background:transparent;
  border:0;
  color:var(--ink);
  font:inherit;
  font-size:0.85rem;
  text-align:left;
  cursor:pointer;
  border-radius:2px;
  transition:background 0.15s;
}
.settings-menu button:hover{
  background:#ffffff08;
  color:var(--gold);
}

/* loading animation */
.loading{
  display:inline-block;
  opacity:0.6;
  animation:pulse 1.5s ease-in-out infinite;
}
.loading::after{
  content:"···";
  display:inline-block;
  animation:dots 1.5s steps(3, end) infinite;
}
@keyframes pulse{
  0%,100%{opacity:0.4;}
  50%{opacity:0.8;}
}
@keyframes dots{
  0%{content:"·";}
  33%{content:"··";}
  66%{content:"···";}
}

/* cathedral table styling */
.scripture-table{
  margin:2rem auto;
  max-width:38rem;
  border-collapse:separate;
  border-spacing:0;
  font-size:0.9em;
}
.scripture-table th,
.scripture-table td{
  padding:0.8rem 1rem;
  text-align:left;
  border-bottom:1px solid var(--table-border);
}
.scripture-table th{
  color:var(--gold);
  font-weight:400;
  letter-spacing:0.1em;
  text-transform:uppercase;
  font-size:0.8em;
}
.scripture-table tr:last-child td{
  border-bottom:none;
}
.scripture-table td:first-child{
  color:var(--accent);
  font-style:italic;
}

/* Markdown styling */
.text h1,
.text h2,
.text h3,
.text h4,
.text h5,
.text h6{
  color:var(--gold);
  margin:1em 0 0.5em 0;
  font-weight:600;
  line-height:1.2;
}
.text h1{font-size:1.6em;}
.text h2{font-size:1.4em;}
.text h3{font-size:1.2em;}
.text h4{font-size:1.1em;}
.text h5{font-size:1em;}
.text h6{font-size:0.95em;}
.text{
  white-space:pre-wrap;
  word-wrap:break-word;
}
.text p{
  margin:0.5em 0;
}
.text strong{
  font-weight:700;
  color:var(--ink);
}
.text em{
  font-style:italic;
}
.text code{
  background:#ffffff08;
  padding:0.15em 0.3em;
  border-radius:2px;
  font-family:monospace;
  font-size:0.9em;
  color:var(--gold);
}
.text pre{
  background:#ffffff06;
  border-left:2px solid var(--gold);
  padding:1rem;
  margin:1rem 0;
  overflow-x:auto;
  border-radius:2px;
}
.text pre code{
  background:transparent;
  padding:0;
  color:var(--ink);
  font-size:0.85em;
  line-height:1.4;
}
.text hr{
  border:0;
  border-top:1px solid var(--rule);
  margin:1.5rem 0;
}

/* Text selection styling */
::selection{
  background:var(--gold);
  color:var(--bg);
}
::-moz-selection{
  background:var(--gold);
  color:var(--bg);
}

/* Custom scrollbar styling */
::-webkit-scrollbar{
  width:10px;
  height:10px;
}
::-webkit-scrollbar-track{
  background:var(--bg);
  border-radius:5px;
}
::-webkit-scrollbar-thumb{
  background:var(--accent);
  border-radius:5px;
  border:2px solid var(--bg);
}
::-webkit-scrollbar-thumb:hover{
  background:var(--gold);
}
::-webkit-scrollbar-corner{
  background:var(--bg);
}

/* Firefox scrollbar styling */
*{
  scrollbar-width:thin;
  scrollbar-color:var(--accent) var(--bg);
}
*:hover{
  scrollbar-color:var(--gold) var(--bg);
}
